# 什么是分形？
参考文章 ： https://staltz.com/unidirectional-user-interface-architectures.html
## 分形概念相关: 状态管理
在我们开发前端页面时，常常引入状态管理工具，现在流行的开发趋势是视图view 与 逻辑，数据store分离。
反映到React的开发上，就是真正的让React 按照它所说的，只做为一个视图库而存在。实际的数据，逻辑都不让React来处理。
当然，就目前而言，React提供的一些Api，如state，Hooks，Context 都能在某种程度上实现逻辑。也就是视图是render函数里的内容，逻辑是整个React组件的其他部分。在小型的页面开发中，这样就已经足够了。
但是, 有的业务天然复杂度高，存在前端的各种跨页面，多联动等内容，仅仅用React提供的Api管理很快就会让代码非常杂乱。难以维护。同时数据流缺乏管理，变得乱七八糟，所以就有了各种状态管理工具，比如很出名的Redux。但人们在说到Redux的时候，常常会吐槽一点的就是，redux没有分形能力，这是啥意思呢？

## 分形
一图蔽之
![](media/15859875100753/15859896605567.jpg)
这就是一颗分形树，我们可以看到每个枝桠都和根存在相同的结构，这整个结构就是一个分形结构。
对应到前端上，就应该是，我们的任意一个组件，任意一个状态管理的下发，都能够做到子模块和父模块保持相同结构。Redux 不是分形的，是因为redux的所有store都得挂到根组件上，而且reducer也得combine，导致如果要把某个组件撤除，或者复用，直接模块化迁移是不行的，在使用时必须增加一些胶水代码（React-redux的connect）。

目前来说，只有Elm的设计和基于Reactive Progarmming的MVI架构，和Cyclejs的作者提出的Dialog架构支持这一点。

Flux， redux 不支持分形，因为他们的store/dispatcher 都是单例，没法拆分单独使用。