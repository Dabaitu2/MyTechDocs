# CPU 相关概念
## 如何评估性能
我们评估性能时，通常可以从以下两个方面来评价。
1. **执行时间(Excution Time)**
    - 执行一条指令，一条命令，需要的时间。执行一条指令，一个命令，用的时间越短，执行时间越短，则性能可以说越好。
1. **吞吐率(Throughput)**或者**带宽(BandWitdh)**
    - 在一段时间内，可以执行的最大命令/指令数。

从上面可以理解到，如果执行时间越短，则相同时间内的吞吐率/带宽会越大。

## 如何提升性能
1. 并行化
    - CPU 的 8核心，16核心，就是通过增加硬件来提高吞吐率。 
2. 提高单条指令的执行效率，缩短执行时间
    - 提高硬件质量
3. 提高单条命令的执行效率，缩短执行时间
    - 优化算法

## CPU 的性能指标依据
1. 时钟周期，时钟周期时间，时钟周期数，时钟频率
<p>我们曾经在高中学习过三角函数，三角函数就是有周期性的，其函数也有波峰波谷。当函数从初始态走到波峰再走到波谷，最后回到稳态。我们就认为是一个周期。</p>

    同样的，在CPU内部有个类似于钟表的东西，叫做晶体振荡器，简称晶振。晶振可以按照频率稳定的输出电信号。每一次完成完整的震荡，就是一个时钟周期。而这一个周期需要的时间，就是时钟周期时间，时钟频率则是一段时间内走过的时间周期数，时间周期数则是一个计量。
    
    时钟周期是永不停歇的保持1-0-1-0状态的，而CPU想要根据这样周期性的输入获得不同的输出，是通过改变电路状态来实现的。这是后话(锁存器一类的)。但从这里我们也知道，CPU设定晶振的频率，肯定是依照其内部电路变化的处理极限能力来做的。因此，时钟周期时间是可以用来作为CPU性能的评判标准的。
1. 程序的CPU执行时间
这是一个宽泛的概念。大概的意思就是，一个程序是由数条指令组成的，我们计算CPU执行时间。就是计算
$指令数\times CPI \times Clock Cycle Time$
也就是指令数 * 每条指令的平均周期数 * 时钟周期时间

## 
## CPU 的性能指标
1. 主频
    - 主频就是CPU的时钟频率，即每秒钟可以经过多少个时钟周期，经历多少次晶振。单位为HZ(赫兹)。这也是频率的基本单位。
    - 根据特殊的控制手段，实际的主频 = 外频 * 倍频
2. 外频
    - 外频就是系统总线的频率，因为对于计算机而言，系统总线才决定了数据从CPU到其他地方，或者其他地方到CPU的数据运输速率。如果系统总线速度不够，CPU频率再高，也会受限于小水管，使得计算机整体处理速度无法获得完全的提高。
3. 倍频，全称倍频系数
    1. 但是，我们还是需要CPU能够进行足够多次的运算，比如我们输入的数据不只是要算一次，有可能要拿去左算右算，根据不同的逻辑多次使用。因此CPU的能力要比外频高一些，才能保证不出现性能瓶颈。而且CPU的工艺使得CPU本身可以做到更高的时钟频率。因此，可以通过特殊手段控制频率变化，来使得CPU的主频上升。

## CPU 的性能如何提升?
CPU的通常都被称为由超大规模集成电路（VLSI Very Large Scale Intergration），电路中存放着一堆晶体管。CPU 在计算，其实就是让晶体管里面的“开关”不断地去“打开”和“关闭”，来组合完成各种运算和功能。想要计算得快，一方面，我们要在 CPU 里，同样的面积里面，多放一些晶体管，也就是增加密度；另一方面，我们要让晶体管“打开”和“关闭”得更快一点，也就是提升主频。而这两者，都会增加功耗，带来耗电和散热的问题。

功耗 ~= 1/2 ×负载电容×电压的平方×开关频率×晶体管数量

## 流水线，预测
待续...